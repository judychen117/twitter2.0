(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75545c58"],{"309c":function(t,e,a){"use strict";a("7ecb")},6153:function(t,e,a){"use strict";a("fa1e")},"7ecb":function(t,e,a){},c878:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"follower-page"},[a("NavBar"),a("div",{staticClass:"follower-container"},[a("UserProfileCard",{attrs:{info:t.info}}),a("UserProfileReply",{attrs:{info:t.info}})],1),a("RecommendUsers")],1)},i=[],r=a("1da1"),n=(a("96cf"),a("88fd")),o=a("d178"),c=a("7950"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tweet-card"},[s("div",{staticClass:"nav"},[s("div",{staticClass:"top-right"},[t.currentUser.id===t.info.id?s("div",{staticClass:"editorMode"},[s("button",{staticClass:"edit-button",on:{click:t.editProfile}},[t._v("編輯個人檔案")]),t.isEditing?s("div",{staticClass:"editing"},[s("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[s("div",{staticClass:"popup"},[s("div",{staticClass:"popup-title"},[s("img",{staticClass:"close",attrs:{src:a("c3b6"),alt:"close"},on:{click:t.editProfile}}),s("p",[t._v("編輯個人資料")])]),s("div",{staticClass:"popup-pic"},[s("div",{staticClass:"popup-cover"},[s("label",{attrs:{for:"cover"}}),s("img",{attrs:{src:t.info.cover,alt:"cover"}}),s("input",{staticClass:"form-control-file",staticStyle:{width:"20px",height:"20px"},attrs:{id:"cover",type:"file",name:"cover",accept:"image/*"},on:{change:t.handleFileChangeCover}})]),s("div",{staticClass:"popup-avatar"},[s("label",{attrs:{for:"avatar"}}),s("img",{attrs:{src:t.info.avatar,alt:"avatar"}}),s("input",{staticClass:"form-control-file",staticStyle:{width:"20px",height:"20px"},attrs:{id:"avatar",type:"file",name:"avatar",accept:"image/*"},on:{change:t.handleFileChangeAvatar}})]),t._m(0)]),s("div",{staticClass:"popup-info"},[s("div",{staticClass:"popup-name"},[s("p",[t._v("名稱")]),s("label",{attrs:{for:"name"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.info.name,expression:"info.name"}],attrs:{id:"name",name:"name",type:"name",placeholder:"",autocomplete:"",required:""},domProps:{value:t.info.name},on:{input:function(e){e.target.composing||t.$set(t.info,"name",e.target.value)}}}),s("div",{staticClass:"seperation"})])]),s("div",{staticClass:"popup-info"},[s("div",{staticClass:"popup-intro"},[s("p",[t._v("自我介紹")]),s("label",{attrs:{for:"introduction"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.info.introduction,expression:"info.introduction"}],attrs:{id:"introduction",name:"intro",type:"introduction",placeholder:"",autocomplete:"",required:""},domProps:{value:t.info.introduction},on:{input:function(e){e.target.composing||t.$set(t.info,"introduction",e.target.value)}}}),s("div",{staticClass:"seperation"})])])])])]):t._e()]):s("div",{staticClass:"nonEditorMode"},[t._m(1),t._m(2),t._m(3)])]),s("div",{staticClass:"nav-tabs"},[s("div",{staticClass:"nav-tab"},[s("router-link",{attrs:{to:{name:"user-profile-tweet",params:{id:t.info.id}}}},[t._v(" 推文 ")])],1),s("div",{staticClass:"nav-tab nav-active"},[t._v("推文與回覆")]),s("div",{staticClass:"nav-tab"},[s("router-link",{attrs:{to:{name:"user-profile-like",params:{id:t.info.id}}}},[t._v(" 喜歡的內容 ")])],1)])]),t._l(t.users,(function(e){return s("div",{key:e.id,staticClass:"tweet-list"},[s("a",{staticClass:"tweet-avatar",attrs:{href:""}},[s("img",{attrs:{src:t._f("emptyPicture")(e.Tweet.User.avatar),alt:"avatar"}})]),s("div",{staticClass:"tweet-content"},[s("a",{staticClass:"tweet-title",attrs:{href:""}},[s("p",{staticClass:"tweet-name"},[t._v(t._s(e.Tweet.User.name))]),s("p",{staticClass:"tweet-id"},[t._v(t._s(e.Tweet.User.account))]),s("span",{staticClass:"dot"}),s("p",{staticClass:"tweet-time"},[t._v(t._s(t._f("fromNow")(e.createdAt)))])]),s("div",{staticClass:"tweet-text"},[s("p",[t._v(" "+t._s(e.Tweet.description)+" ")])]),s("div",{staticClass:"tweet-activity"},[s("a",{staticClass:"tweet-comment",attrs:{href:"#"}},[s("img",{staticClass:"icon",attrs:{src:a("6edd"),alt:"comments"}}),s("span",[t._v(t._s(e.Tweet.Replies.length))])]),s("a",{staticClass:"tweet-like",attrs:{href:"#"}},[s("img",{staticClass:"icon",attrs:{src:a("9291"),alt:"likes"}}),s("span",[t._v(t._s(e.Tweet.Likes.length))])])])])])}))],2)},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"button"},[a("button",{staticClass:"followers-item-button",attrs:{type:"submit"}},[t._v(" 儲存 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"email"},[s("img",{attrs:{src:a("14c1"),alt:"email"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bell"},[s("img",{attrs:{src:a("475f"),alt:"bell"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-button"},[a("button",{staticClass:"followers-item-button",attrs:{type:"button"}},[t._v(" 正在跟隨 ")])])}],d=a("5530"),f=(a("2b3d"),a("d3b7"),a("3ca3"),a("ddb0"),a("1602")),v=a("2fa3"),p=a("2708"),m=a("2f62"),h={data:function(){return{users:[],isEditing:!1,id:-1,name:""}},props:{info:{type:Object,required:!0}},computed:Object(d["a"])({},Object(m["b"])(["currentUser","isAuthenticated"])),created:function(){var t=this.$route.params.id;this.fetchUsers(t)},methods:{fetchUsers:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f["a"].getReply({id:t});case 3:if(s=a.sent,"OK"===s.statusText){a.next=6;break}throw new Error(s.statusText);case 6:e.users=s.data,a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](0),v["a"].fire({icon:"error",title:"無法取得Followers，請稍後再試"}),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},editProfile:function(){!0===this.isEditing?this.isEditing=!1:this.isEditing=!0},handleSubmit:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,i,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,s=t.target,i=new FormData(s),e.id=e.info.id,a.next=6,f["a"].userEdit.editSetting({id:e.id,formData:i});case 6:if(r=a.sent,n=r.data,"success"===n.status){a.next=10;break}throw new Error(n.message);case 10:v["a"].fire({icon:"success",title:"儲存成功"}),e.editProfile(),a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](0),v["a"].fire({icon:"error",title:"暫時無法修改資料,請稍後再試"});case 17:case"end":return a.stop()}}),a,null,[[0,14]])})))()},handleFileChangeAvatar:function(t){var e=t.target.files;if(0!==e.length){var a=window.URL.createObjectURL(e[0]);this.info.avatar=a}},handleFileChangeCover:function(t){var e=t.target.files;if(0!==e.length){var a=window.URL.createObjectURL(e[0]);this.info.cover=a}}},mixins:[p["c"],p["a"]]},w=h,C=(a("6153"),a("2877")),g=Object(C["a"])(w,l,u,!1,null,"1be66660",null),b=g.exports,_={data:function(){return{info:[]}},components:{RecommendUsers:n["a"],NavBar:o["a"],UserProfileCard:c["a"],UserProfileReply:b},created:function(){var t=this.$route.params.id;this.fetchUsers(t)},methods:{fetchUsers:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f["a"].user.get({id:t});case 3:if(s=a.sent,console.log(s),"OK"===s.statusText){a.next=7;break}throw new Error(s.statusText);case 7:e.info=s.data,a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](0),v["a"].fire({icon:"error",title:"無法取得Followers，請稍後再試"}),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()}}},x=_,k=(a("309c"),Object(C["a"])(x,s,i,!1,null,"72f75354",null));e["default"]=k.exports},fa1e:function(t,e,a){}}]);
//# sourceMappingURL=chunk-75545c58.8b878e92.js.map