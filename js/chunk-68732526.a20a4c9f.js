(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68732526"],{"10f8":function(t,e,a){},"5a38":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"follower-page"},[a("NavBar"),a("div",{staticClass:"follower-container"},[a("UserProfileCard",{attrs:{info:t.info}}),a("UserProfileTweet",{attrs:{info:t.info}})],1),a("RecommendUsers")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("88fd")),o=a("d178"),c=a("7950"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tweet-card"},[i("div",{staticClass:"nav"},[i("div",{staticClass:"top-right"},[t.currentUser.id===t.info.id?i("div",{staticClass:"editorMode"},[i("button",{staticClass:"edit-button",on:{click:t.editProfile}},[t._v("編輯個人檔案")]),t.isEditing?i("div",{staticClass:"editing"},[i("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[i("div",{staticClass:"popup"},[i("div",{staticClass:"popup-title"},[i("img",{staticClass:"close",attrs:{src:a("c3b6"),alt:"close"},on:{click:t.editProfile}}),i("p",[t._v("編輯個人資料")])]),i("div",{staticClass:"popup-pic"},[i("div",{staticClass:"popup-cover"},[i("label",{attrs:{for:"cover"}}),i("img",{attrs:{src:t.info.cover,alt:"cover"}}),i("input",{staticClass:"form-control-file",staticStyle:{width:"20px",height:"20px"},attrs:{id:"cover",type:"file",name:"cover",accept:"image/*"},on:{change:t.handleFileChangeCover}})]),i("div",{staticClass:"popup-avatar"},[i("label",{attrs:{for:"avatar"}}),i("img",{attrs:{src:t.info.avatar,alt:"avatar"}}),i("input",{staticClass:"form-control-file",staticStyle:{width:"20px",height:"20px"},attrs:{id:"avatar",type:"file",name:"avatar",accept:"image/*"},on:{change:t.handleFileChangeAvatar}})]),t._m(0)]),i("div",{staticClass:"popup-info"},[i("div",{staticClass:"popup-name"},[i("p",[t._v("名稱")]),i("label",{attrs:{for:"name"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.info.name,expression:"info.name"}],attrs:{id:"name",name:"name",type:"name",placeholder:"",autocomplete:"",required:""},domProps:{value:t.info.name},on:{input:function(e){e.target.composing||t.$set(t.info,"name",e.target.value)}}}),i("div",{staticClass:"seperation"})])]),i("div",{staticClass:"popup-info"},[i("div",{staticClass:"popup-intro"},[i("p",[t._v("自我介紹")]),i("label",{attrs:{for:"introduction"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.info.introduction,expression:"info.introduction"}],attrs:{id:"introduction",name:"intro",type:"introduction",placeholder:"",autocomplete:"",required:""},domProps:{value:t.info.introduction},on:{input:function(e){e.target.composing||t.$set(t.info,"introduction",e.target.value)}}}),i("div",{staticClass:"seperation"})])])])])]):t._e()]):i("div",{staticClass:"nonEditorMode"},[t._m(1),t._m(2),i("div",{staticClass:"user-button"},[t.isFollowing?i("button",{staticClass:"followers-item-button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFollowing(t.info.id)}}},[t._v(" 正在跟隨 ")]):i("button",{staticClass:"followers-item-button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollowing(t.info.id)}}},[t._v(" 跟隨 ")])])])]),i("div",{staticClass:"nav-tabs"},[i("router-link",{attrs:{to:{name:"user-profile-tweet",params:{id:t.info.id}}}},[i("div",{staticClass:"nav-tab nav-active"},[t._v("推文")])]),i("div",{staticClass:"nav-tab"},[i("router-link",{attrs:{to:{name:"user-profile-reply",params:{id:t.info.id}}}},[t._v(" 回覆的內容 ")])],1),i("div",{staticClass:"nav-tab"},[i("router-link",{attrs:{to:{name:"user-profile-like",params:{id:t.info.id}}}},[t._v(" 喜歡的內容 ")])],1)],1)]),t._l(t.users,(function(e){return i("div",{key:e.id,staticClass:"tweet-list"},[i("a",{staticClass:"tweet-avatar",attrs:{href:""}},[i("img",{attrs:{src:t.info.avatar,alt:"avatar"}})]),i("div",{staticClass:"tweet-content"},[i("a",{staticClass:"tweet-title",attrs:{href:""}},[i("p",{staticClass:"tweet-name"},[t._v(t._s(t.info.name))]),i("p",{staticClass:"tweet-id"},[t._v(t._s(t.info.account))]),i("span",{staticClass:"dot"}),i("p",{staticClass:"tweet-time"},[t._v(t._s(t._f("fromNow")(e.createdAt)))])]),i("div",{staticClass:"tweet-text"},[i("p",[t._v(" "+t._s(e.description)+" ")])]),i("div",{staticClass:"tweet-activity"},[i("a",{staticClass:"tweet-comment",attrs:{href:"#"}},[i("img",{staticClass:"icon",attrs:{src:a("6edd"),alt:"comments"}}),i("span",[t._v(t._s(e.Replies.length))])]),i("a",{staticClass:"tweet-like",attrs:{href:"#"}},[i("img",{staticClass:"icon",attrs:{src:a("9291"),alt:"likes"}}),i("span",[t._v(t._s(e.Likes.length))])])])])])}))],2)},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"button"},[a("button",{staticClass:"followers-item-button",attrs:{type:"submit"}},[t._v(" 儲存 ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"email"},[i("img",{attrs:{src:a("14c1"),alt:"email"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bell"},[i("img",{attrs:{src:a("475f"),alt:"bell"}})])}],d=a("5530"),f=(a("2b3d"),a("d3b7"),a("3ca3"),a("ddb0"),a("1602")),p=a("2fa3"),v=a("2708"),m=a("2f62"),h={props:{info:{type:Object,required:!0}},data:function(){return{users:[],isEditing:!1,id:-1,isFollowing:!1}},computed:Object(d["a"])({},Object(m["b"])(["currentUser","isAuthenticated"])),watch:{info:function(t){this.users=Object(d["a"])(Object(d["a"])({},this.user),t.Tweets)}},methods:{editProfile:function(){!0===this.isEditing?this.isEditing=!1:this.isEditing=!0},handleSubmit:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,s,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,i=t.target,s=new FormData(i),e.id=e.info.id,a.next=6,f["a"].userEdit.editSetting({id:e.id,formData:s});case 6:if(r=a.sent,n=r.data,"success"===n.status){a.next=10;break}throw new Error(n.message);case 10:p["a"].fire({icon:"success",title:"儲存成功"}),e.editProfile(),a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](0),p["a"].fire({icon:"error",title:"暫時無法修改資料,請稍後再試"});case 17:case"end":return a.stop()}}),a,null,[[0,14]])})))()},deleteFollowing:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f["a"].deleteFollowing({infoID:t});case 3:if(a=e.sent,i=a.data,"success"===i.status){e.next=7;break}throw new Error(i.message);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),p["a"].fire({icon:"error",title:"暫時無法取消追隨,請稍後再試"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},addFollowing:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f["a"].addFollowing({id:t});case 3:if(a=e.sent,i=a.data,"success"===i.status){e.next=7;break}throw new Error(i.message);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),p["a"].fire({icon:"error",title:"暫時無法追隨,請稍後再試"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},handleFileChangeAvatar:function(t){var e=t.target.files;if(0!==e.length){var a=window.URL.createObjectURL(e[0]);this.info.avatar=a}},handleFileChangeCover:function(t){var e=t.target.files;if(0!==e.length){var a=window.URL.createObjectURL(e[0]);this.info.cover=a}}},mixins:[v["c"],v["a"]]},w=h,g=(a("6d1a"),a("2877")),b=Object(g["a"])(w,l,u,!1,null,"c3afeb34",null),C=b.exports,_={data:function(){return{info:[]}},components:{RecommendUsers:n["a"],NavBar:o["a"],UserProfileCard:c["a"],UserProfileTweet:C},created:function(){var t=this.$route.params.id;this.fetchUsers(t)},beforeRouteUpdate:function(t,e,a){var i=t.params.id;this.fetchUsers(i),a()},methods:{fetchUsers:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f["a"].user.get({id:t});case 3:if(i=a.sent,console.log("s",i.data),"OK"===i.statusText){a.next=7;break}throw new Error(i.statusText);case 7:e.info=i.data,a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](0),p["a"].fire({icon:"error",title:"無法取得Followers，請稍後再試"}),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()}}},x=_,k=(a("e4f1"),Object(g["a"])(x,i,s,!1,null,"3505607c",null));e["default"]=k.exports},"6d1a":function(t,e,a){"use strict";a("10f8")},9334:function(t,e,a){},e4f1:function(t,e,a){"use strict";a("9334")}}]);
//# sourceMappingURL=chunk-68732526.a20a4c9f.js.map