(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-784248ef"],{"0da3":function(t,e,s){},"18a2":function(t,e,s){t.exports=s.p+"img/icon_back.f08396c9.svg"},"99ea":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-tweets"},[a("NavBar"),"none"!==t.showModal?a("div",{attrs:{id:"fade"}}):t._e(),a("UserReplymodal",{directives:[{name:"show",rawName:"v-show",value:"reply"===t.showModal,expression:"showModal === 'reply'"}],attrs:{"initial-modal-tweet":t.tweet},on:{"close-post-modal":t.closePostModal}}),a("div",{staticClass:"tweets-container"},[a("div",{staticClass:"tweets-header"},[a("a",{attrs:{href:""}},[a("img",{attrs:{src:s("18a2"),alt:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$router.back()}}}),a("span",[t._v("推文 ")])])]),a("div",{staticClass:"tweets"},[a("div",{staticClass:"tweets-post-card"},[a("div",{staticClass:"tweets-post"},[a("div",{staticClass:"tweet-title"},[a("router-link",{attrs:{to:{name:"user-profile-tweet",params:{id:t.currentUser.id}}}},[a("img",{staticClass:"tweets-avatar",attrs:{src:t.currentUser.avatar,alt:"avatar"}})]),a("a",{staticClass:"tweets-name"},[a("div",{staticClass:"name"},[t._v(t._s(t.tweetUser.name))]),a("div",{staticClass:"id"},[t._v(t._s(t.tweetUser.account))])])],1),a("div",{staticClass:"tweet-replay-container"},[a("div",{staticClass:"tweet-push-content"},[a("p",[t._v(" "+t._s(t.tweet.description)+" ")])]),a("div",{staticClass:"tweet-push-time"},[a("p",[t._v(t._s(t.tweet.createdAt))])]),a("div",{staticClass:"tweet-status"},[a("div",{staticClass:"re-tweet"},[a("span",[t._v(t._s(t.RepliesLength))]),a("span",[t._v("回覆")])]),a("div",{staticClass:"like"},[a("span",[t._v(t._s(t.likesLength))]),a("span",[t._v("喜歡次數")])])]),a("div",{staticClass:"tweet-status-icon"},[a("a",{staticClass:"re-tweet-icon",attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.replyPost(t.tweet)}}},[a("img",{staticClass:"icon",attrs:{src:s("6edd"),alt:""}})]),t.likeStatus?a("a",{staticClass:"like-icon",attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteLiked(t.tweet.id)}}},[a("img",{staticClass:"icon",attrs:{src:s("b768"),alt:""}})]):a("a",{staticClass:"like-icon",attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addLiked(t.tweet.id)}}},[a("img",{staticClass:"icon",attrs:{src:s("9291"),alt:""}})])])])])]),a("div",{staticClass:"tweets-list"},t._l(t.replies,(function(e){return a("div",{key:e.id,staticClass:"tweets-card"},[a("a",{attrs:{href:""}},[a("img",{staticClass:"tweets-avatar",attrs:{src:e.User.avatar,alt:"avatar"}})]),a("div",{staticClass:"tweets-content"},[a("a",{staticClass:"tweets tweets-title",attrs:{href:""}},[a("div",{staticClass:"tweets-reply-name"},[t._v(t._s(e.User.name))]),a("div",{staticClass:"tweets-reply-id id"},[t._v(t._s(e.User.account))]),a("div",{staticClass:"tweets-reply-time"},[t._v("3hr")])]),a("div",{},[a("span",[t._v("回覆")]),a("span",[a("a",{staticClass:"tweets-post-user",attrs:{href:""}},[t._v(t._s(t.tweetUser.account))])])]),a("div",{staticClass:"tweet tweets-text"},[a("p",{staticClass:"card-text"},[t._v(" "+t._s(e.comment)+" ")])])])])})),0)])]),a("RecommendUsers")],1)},r=[],i=s("1da1"),n=s("5530"),c=(s("159b"),s("96cf"),s("88fd")),o=s("d178"),l=s("6783"),d=s("2fa3"),u=s("1602"),p=s("2f62"),v=s("9309"),w={components:{RecommendUsers:c["a"],NavBar:o["a"],UserReplymodal:v["a"]},data:function(){return{tweet:[],replies:[],tweetUser:[],likeStatus:!1,likesLength:"",RepliesLength:"",showModal:"none"}},created:function(){var t=this.$route.params;this.fetchTweet(t)},beforeRouteUpdate:function(t,e){var s=t.params;this.fetchTweet(s),e()},computed:Object(n["a"])({},Object(p["b"])(["currentUser"])),methods:{fetchTweet:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,l["a"].tweet.get(t);case 3:a=s.sent,r=a.data,e.tweet=r,e.replies=r.Replies,e.tweetUser=r.User,e.likesLength=r.Likes.length,e.RepliesLength=r.Replies.length,e.checkLikeId(e.tweet),s.next=16;break;case 13:s.prev=13,s.t0=s["catch"](0),d["a"].fire({icon:"error",title:"暫時無法獲取推文,請稍後再試"});case 16:case"end":return s.stop()}}),s,null,[[0,13]])})))()},addLiked:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,u["a"].addLiked(t);case 3:if(a=s.sent,r=a.data,"success"===r.status){s.next=7;break}throw new Error(r.message);case 7:e.likeStatus=!0,s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),d["a"].fire({icon:"error",title:"暫時無法加入喜歡,請稍後再試"});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()},deleteLiked:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,u["a"].deleteLiked(t);case 3:if(a=s.sent,r=a.data,"success"===r.status){s.next=7;break}throw new Error(r.message);case 7:e.likeStatus=!1,s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),d["a"].fire({icon:"error",title:"暫時無法移除喜歡,請稍後再試"});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()},checkLikeId:function(t){var e=this;t.Likes.forEach((function(t){t.UserId!==e.currentUser.id||(e.likeStatus=!0)}))},replyPost:function(){this.showModal="reply"},closePostModal:function(t){this.showModal=t}}},f=w,h=(s("db05"),s("2877")),m=Object(h["a"])(f,a,r,!1,null,"2e2d0634",null);e["default"]=m.exports},db05:function(t,e,s){"use strict";s("0da3")}}]);
//# sourceMappingURL=chunk-784248ef.538b861b.js.map