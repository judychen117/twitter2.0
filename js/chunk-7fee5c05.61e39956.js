(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fee5c05"],{"20c2":function(t,e,s){"use strict";s("c20c")},5398:function(t,e,s){},"7d03":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-bar"},[a("div",{staticClass:"mt-3"},[a("router-link",{staticClass:"nav-logo",attrs:{to:"/admin_tweets"}},[a("img",{attrs:{src:s("0eb7"),alt:""}})]),a("ul",{staticClass:"nav-list"},[a("li",{staticClass:"nav-item nav-home"},[a("router-link",{attrs:{to:{name:"admin-tweets"}}},[a("i",{staticClass:"nav-icon fas fa-home"}),a("p",[t._v("推文清單")])])],1),a("li",{staticClass:"nav-item nav-profile"},[a("router-link",{attrs:{to:{name:"admin-users"}}},[a("i",{staticClass:"nav-icon fas fa-user-alt"}),a("p",[t._v("使用者列表")])])],1)]),a("a",{staticClass:"nav-item nav-sign-out",attrs:{href:""}},[a("i",{staticClass:"nav-icon fas fa-sign-out-alt"}),a("p",{on:{click:t.logout}},[t._v("登出")])])],1)])},n=[],r={methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/login")}}},i=r,c=(s("93f4"),s("2877")),o=Object(c["a"])(i,a,n,!1,null,"657867c2",null);e["a"]=o.exports},"93f4":function(t,e,s){"use strict";s("9523")},9523:function(t,e,s){},b2cc:function(t,e,s){"use strict";s("5398")},be6c:function(t,e,s){"use strict";var a=s("2fa3"),n=function(){return localStorage.getItem("token")};e["a"]={tweets:{getTweets:function(){return a["b"].get("/admin/tweets",{headers:{Authorization:"Bearer ".concat(n())}})},deleteTweets:function(t){var e=t.id;return a["b"].delete("/admin/tweets/".concat(e),{headers:{Authorization:"Bearer ".concat(n())}})}},users:{getUsers:function(){return a["b"].get("/admin/users",{headers:{Authorization:"Bearer ".concat(n())}})}}}},c20c:function(t,e,s){},c3b6:function(t,e,s){t.exports=s.p+"img/cancel.18445307.svg"},fa6a:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-tweets"},[s("AdminNavBar"),s("div",{staticClass:"tweets-container"},[s("div",{staticClass:"tweets"},[t._m(0),s("div",{staticClass:"divider"}),s("AdminTweetCard")],1)])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tweets-title"},[s("p",[t._v("推文清單")])])}],r=s("7d03"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tweet-card"},t._l(t.tweets,(function(e){return a("div",{key:e.id,staticClass:"tweet-list"},[a("div",{staticClass:"tweet"},[a("a",{staticClass:"tweet-avatar",attrs:{href:""}},[a("img",{attrs:{src:t._f("emptyPicture")(e.User.avatar),alt:"avatar"}})]),a("div",{staticClass:"tweet-content"},[a("a",{staticClass:"tweet-title",attrs:{href:""}},[a("div",{staticClass:"tweet-name"},[t._v(t._s(e.User.name))]),a("div",{staticClass:"tweet-id"},[t._v(t._s(e.User.account))]),a("span",{staticClass:"dot"}),a("div",{staticClass:"tweet-time"},[t._v(t._s(t._f("fromNow")(e.createdAt)))])]),a("div",{staticClass:"tweet-text"},[a("p",{staticClass:"card-text"},[t._v(" "+t._s(t._f("filterWordCount")(e.description))+" ")])]),a("div",{staticClass:"tweet-delete"},[a("a",{attrs:{href:"#"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.deleteTweets(e.id)}}},[a("img",{staticClass:"icon",attrs:{src:s("c3b6"),alt:"deleteIcon"}})])])])])])})),0)},c=[],o=s("1da1"),l=(s("4de4"),s("96cf"),s("be6c")),u=s("2fa3"),d=s("2708"),f={data:function(){return{tweets:[]}},created:function(){this.fetchTweets()},methods:{fetchTweets:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["a"].tweets.getTweets();case 3:if(s=e.sent,"OK"===s.statusText){e.next=6;break}throw new Error(s.statusText);case 6:t.tweets=s.data,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),u["a"].fire({icon:"error",title:"無法取得Tweets，請稍後再試"}),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},deleteTweets:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,l["a"].tweets.deleteTweets({id:t});case 3:if(a=s.sent,n=a.data,console.log(t),"success"===n.status){s.next=8;break}throw new Error(n.message);case 8:e.tweets=e.tweets.filter((function(e){return e.id!==t})),s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](0),u["a"].fire({icon:"error",title:"無法刪除tweet，請稍後再試"});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})))()}},mixins:[d["c"],d["a"],d["b"]]},v=f,w=(s("b2cc"),s("2877")),m=Object(w["a"])(v,i,c,!1,null,"21530ee5",null),h=m.exports,p={components:{AdminNavBar:r["a"],AdminTweetCard:h}},C=p,g=(s("20c2"),Object(w["a"])(C,a,n,!1,null,"9f2b0828",null));e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-7fee5c05.61e39956.js.map