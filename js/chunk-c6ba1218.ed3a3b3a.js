(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6ba1218"],{"05b0":function(t,e,r){t.exports=r.p+"img/chat.b4f7574f.svg"},"078f":function(t,e,r){},1564:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"nav"},[r("div",{staticClass:"nav-tab"},[r("router-link",{attrs:{to:{name:"user-follower",params:{id:t.id}}}},[t._v("跟隨者")])],1),r("div",{staticClass:"nav-tab"},[r("router-link",{attrs:{to:{name:"user-following",params:{id:t.id}}}},[t._v("正在跟隨")])],1)])},n=[],s=(r("a9e3"),{props:{id:{true:Number,required:!0}}}),o=s,i=(r("5118"),r("2877")),c=Object(i["a"])(o,a,n,!1,null,"dd889b0c",null);e["a"]=c.exports},1602:function(t,e,r){"use strict";var a=r("2fa3"),n=function(){return localStorage.getItem("token")};e["a"]={users:{get:function(){return console.log(n()),a["b"].get("/users",{headers:{Authorization:"Bearer ".concat(n())}})}},user:{get:function(t){var e=t.id;return a["b"].get("/users/".concat(e),{headers:{Authorization:"Bearer ".concat(n())}})}},addFollowing:function(t){var e=t.id;return a["b"].post("/followships",{id:e},{headers:{Authorization:"Bearer ".concat(n())}})},deleteFollowing:function(t){var e=t.followingId;return a["b"].delete("/followships/".concat(e),{headers:{Authorization:"Bearer ".concat(n())}})},addLiked:function(t){return a["b"].post("/tweets/".concat(t,"/like"),null,{headers:{Authorization:"Bearer ".concat(n())}})},deleteLiked:function(t){return a["b"].post("/tweets/".concat(t,"/unlike"),null,{headers:{Authorization:"Bearer ".concat(n())}})},getTweet:function(t){var e=t.id;return a["b"].get("/users/".concat(e,"/tweets"),{headers:{Authorization:"Bearer ".concat(n())}})},getReply:function(t){var e=t.id;return a["b"].get("/users/".concat(e,"/replied_tweets"),{headers:{Authorization:"Bearer ".concat(n())}})},getLike:function(t){var e=t.id;return a["b"].get("/users/".concat(e,"/likes"),{headers:{Authorization:"Bearer ".concat(n())}})},userEdit:{editSetting:function(t){var e=t.id,r=t.formData;return a["b"].put("/users/".concat(e),r,{headers:{Authorization:"Bearer ".concat(n())}})},getSetting:function(t){return a["b"].get("/users/".concat(t,"/edit"),{headers:{Authorization:"Bearer ".concat(n())}})}}}},3229:function(t,e,r){},5118:function(t,e,r){"use strict";r("def6")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var a=r("1d80"),n=r("5899"),s="["+n+"]",o=RegExp("^"+s+s+"*"),i=RegExp(s+s+"*$"),c=function(t){return function(e){var r=String(a(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(i,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},"604d":function(t,e,r){"use strict";var a=r("2fa3"),n=function(){return localStorage.getItem("token")};e["a"]={getFollower:function(t){var e=t.id;return a["b"].get("/users/".concat(e,"/followers"),{headers:{Authorization:"Bearer ".concat(n())}})},getFollowing:function(t){var e=t.id;return a["b"].get("/users/".concat(e,"/followings"),{headers:{Authorization:"Bearer ".concat(n())}})}}},7156:function(t,e,r){var a=r("861d"),n=r("d2bb");t.exports=function(t,e,r){var s,o;return n&&"function"==typeof(s=e.constructor)&&s!==r&&a(o=s.prototype)&&o!==r.prototype&&n(t,o),t}},7519:function(t,e,r){t.exports=r.p+"img/Vector.59e5a2e5.svg"},"88fd":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"recommend-bar"},[r("div",{staticClass:"recommend mt-3"},[t._m(0),r("div",{staticClass:"recommend-followers"},[r("ul",{staticClass:"recommend-followers-list"},t._l(t.recommendUsers,(function(e){return r("li",{key:e.id,staticClass:"recommend-followers-item"},[r("router-link",{staticClass:"recommend-followers-title",attrs:{to:{name:"user-profile-tweet",params:{id:e.id}}}},[r("img",{staticClass:"tweets-avatar",attrs:{src:t._f("emptyPicture")(e.avatar),alt:"avatar"}}),r("div",[r("p",{staticClass:"recommend-followers-name"},[t._v(t._s(e.name))]),r("p",{staticClass:"recommend-followers-id"},[t._v(" "+t._s(e.account)+" ")])])]),e.isFollowed?r("button",{staticClass:"followers-item-button",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.deleteFollowing(e.id)}}},[t._v(" 正在跟隨 ")]):r("button",{staticClass:"followers-item-button",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.addFollowing(e.id)}}},[t._v(" 跟隨 ")])],1)})),0)]),r("div",{staticClass:"recommend-fotter"},[t._v("顯示更多")])])])},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"recommend-title"},[r("p",[t._v("跟隨誰")])])}],s=r("5530"),o=r("1da1"),i=(r("d81d"),r("96cf"),r("1602")),c=r("2fa3"),l=r("2708"),u={data:function(){return{recommendUsers:[]}},created:function(){this.fetcgRecomendUsers()},methods:{fetcgRecomendUsers:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i["a"].users.get();case 3:r=e.sent,a=r.data,t.recommendUsers=a,console.log(t.recommendUsers),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),c["a"].fire({icon:"error",title:"暫時無法獲取推薦名單,請稍後再試"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},deleteFollowing:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i["a"].deleteFollowing({followingId:t});case 3:if(a=r.sent,n=a.data,"success"===n.status){r.next=7;break}throw new Error(n.message);case 7:e.recommendUsers=e.recommendUsers.map((function(e){return e.id!==t?e:Object(s["a"])(Object(s["a"])({},e),{},{followerCount:e.followerCount-1,isFollowed:!1})})),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),c["a"].fire({icon:"error",title:"暫時無法取消追隨,請稍後再試"});case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()},addFollowing:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i["a"].addFollowing({id:t});case 3:if(a=r.sent,n=a.data,"success"===n.status){r.next=7;break}throw new Error(n.message);case 7:e.recommendUsers=e.recommendUsers.map((function(e){return e.id!==t?e:Object(s["a"])(Object(s["a"])({},e),{},{followerCount:e.followerCount+1,isFollowed:!0})})),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),c["a"].fire({icon:"error",title:"暫時無法追隨,請稍後再試"});case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()}},mixins:[l["a"]]},f=u,d=(r("9b08"),r("2877")),v=Object(d["a"])(f,a,n,!1,null,"14e02274",null);e["a"]=v.exports},"9b08":function(t,e,r){"use strict";r("e8a8")},"9dc7":function(t,e,r){},a5f6:function(t,e,r){"use strict";r("3229")},a9e3:function(t,e,r){"use strict";var a=r("83ab"),n=r("da84"),s=r("94ca"),o=r("6eeb"),i=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),f=r("d039"),d=r("7c73"),v=r("241c").f,m=r("06cf").f,p=r("9bf2").f,g=r("58a8").trim,w="Number",h=n[w],b=h.prototype,C=c(d(b))==w,_=function(t){var e,r,a,n,s,o,i,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+l}for(s=l.slice(2),o=s.length,i=0;i<o;i++)if(c=s.charCodeAt(i),c<48||c>n)return NaN;return parseInt(s,a)}return+l};if(s(w,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var k,x=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof x&&(C?f((function(){b.valueOf.call(r)})):c(r)!=w)?l(new h(_(e)),r,x):_(e)},F=a?v(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),A=0;F.length>A;A++)i(h,k=F[A])&&!i(x,k)&&p(x,k,m(h,k));x.prototype=b,b.constructor=x,o(n,w,x)}},cc95:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"follower-page"},[r("NavBar"),r("div",{staticClass:"follower-container"},[r("Following",{attrs:{user:t.user}})],1),r("RecommendUsers")],1)},n=[],s=r("1da1"),o=(r("96cf"),r("88fd")),i=r("d178"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"following-card"},[a("router-link",{staticClass:"arrow-left",attrs:{to:{name:"user-profile-tweet",params:{id:t.user.id}}}},[a("img",{attrs:{src:r("7519"),alt:"vector"}})]),a("p",{staticClass:"name"},[t._v(t._s(t.user.name))]),a("p",{staticClass:"tweets"},[t._v(t._s(t.user.Tweets.length)+" 推文")]),a("FollowNavTab",{attrs:{id:t.user.id}}),a("div",{staticClass:"divider"}),t._l(t.followings,(function(e){return a("div",{key:e.id,staticClass:"following-list"},[a("div",{staticClass:"user"},[a("a",{staticClass:"user-avatar",attrs:{href:""}},[a("img",{attrs:{src:t._f("emptyPicture")(e.avatar),alt:"avatar"}})]),a("div",{staticClass:"user-content"},[a("div",{staticClass:"user-name"},[t._v(t._s(e.name))]),a("div",{staticClass:"user-id"},[t._v(t._s(e.account))]),a("div",{staticClass:"user-text"},[a("p",{staticClass:"card-text"},[t._v(t._s(e.introduction))])]),a("div",{staticClass:"user-button"},[e.isFollowed?a("button",{staticClass:"followings-item-button",attrs:{type:"button"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.deleteFollowing(e.id)}}},[t._v(" 正在跟隨 ")]):a("button",{staticClass:"followings-item-button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollowing(t.follower.id)}}},[t._v(" 跟隨 ")])])])])])}))],2)},l=[],u=r("5530"),f=(r("d81d"),r("604d")),d=r("1602"),v=r("2fa3"),m=r("2708"),p=r("1564"),g={mixins:[m["a"]],components:{FollowNavTab:p["a"]},data:function(){return{followings:[]}},props:{user:{type:Object,required:!0}},created:function(){var t=this.$route.params.id;this.fetchFollowings(t)},methods:{fetchFollowings:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,f["a"].getFollowing({id:t});case 3:if(a=r.sent,"OK"===a.statusText){r.next=6;break}throw new Error(a.statusText);case 6:e.followings=a.data,r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),v["a"].fire({icon:"error",title:"無法取得Followings，請稍後再試"}),console.log(r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},deleteFollowing:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].deleteFollowing({followingId:t});case 3:if(a=r.sent,n=a.data,"success"===n.status){r.next=7;break}throw new Error(n.message);case 7:s=e.$route.params.id,e.fetchFollowings(s),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](0),v["a"].fire({icon:"error",title:"暫時無法取消追隨,請稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})))()},addFollowing:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].addFollowing({id:t});case 3:if(a=r.sent,n=a.data,"success"===n.status){r.next=7;break}throw new Error(n.message);case 7:e.followers=e.followers.map((function(e){return e.id!==t?e:Object(u["a"])(Object(u["a"])({},e),{},{followerCount:e.followerCount+1,isFollowed:!0})})),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),v["a"].fire({icon:"error",title:"暫時無法追隨,請稍後再試"});case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()}}},w=g,h=(r("e5ff"),r("2877")),b=Object(h["a"])(w,c,l,!1,null,"03708168",null),C=b.exports,_={data:function(){return{user:[]}},components:{RecommendUsers:o["a"],NavBar:i["a"],Following:C},created:function(){var t=this.$route.params.id;this.fetchUsers(t)},methods:{fetchUsers:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].user.get({id:t});case 3:if(a=r.sent,console.log(a),"OK"===a.statusText){r.next=7;break}throw new Error(a.statusText);case 7:e.user=a.data,r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),v["a"].fire({icon:"error",title:"無法取得Followers，請稍後再試"}),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()}}},k=_,x=(r("ec1f"),Object(h["a"])(k,a,n,!1,null,"0bb7e740",null));e["default"]=x.exports},d178:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-bar"},[a("div",{staticClass:"mt-3"},[a("router-link",{staticClass:"nav-logo",attrs:{to:{name:"tweets-main"}}},[a("img",{staticClass:"logo",attrs:{src:r("0eb7"),alt:"logo"}})]),a("ul",{staticClass:"nav-list"},[a("li",{staticClass:"nav-item nav-home"},[a("router-link",{attrs:{to:{name:"tweets-main"}}},[a("i",{staticClass:"nav-icon fas fa-home"}),a("p",[t._v("首頁")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"chatroom"}}},[a("img",{staticClass:"nav-icon",attrs:{src:r("e334"),alt:"chat"}}),a("p",[t._v("通知")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"chatroom"}}},[a("img",{staticClass:"nav-icon",attrs:{src:r("05b0"),alt:"chat"}}),a("p",[t._v("公開聊天室")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"chatroom"}}},[a("img",{staticClass:"nav-icon",attrs:{src:r("05b0"),alt:"chat"}}),a("p",[t._v("私人訊息")])])],1),a("li",{staticClass:"nav-item nav-profile"},[a("router-link",{attrs:{to:{name:"user-profile-tweet",params:{id:t.currentUser.id}}}},[a("i",{staticClass:"nav-icon fas fa-user-alt"}),a("p",[t._v("個人資料")])])],1),a("li",{staticClass:"nav-item nav-setting"},[a("router-link",{attrs:{to:{name:"setting"}}},[a("i",{staticClass:"nav-icon fas fa-cog"}),a("p",[t._v("設定")])])],1),a("li",[a("button",{staticClass:"nav-teweet-button button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addPost(e)}}},[t._v(" 推文 ")])])]),a("router-link",{staticClass:"nav-item nav-sign-out",attrs:{to:{name:"login"}}},[a("i",{staticClass:"nav-icon fas fa-sign-out-alt",on:{click:t.logout}}),a("p",{on:{click:t.logout}},[t._v("登出")])])],1)])},n=[],s=r("5530"),o=r("2f62"),i={data:function(){return{showModal:"post"}},computed:Object(s["a"])({},Object(o["b"])(["currentUser","isAuthenticated"])),methods:{addPost:function(){this.showModal="post",this.$emit("show-post-modal",this.showModal)},logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/login")}}},c=i,l=(r("a5f6"),r("2877")),u=Object(l["a"])(c,a,n,!1,null,"19543579",null);e["a"]=u.exports},d81d:function(t,e,r){"use strict";var a=r("23e7"),n=r("b727").map,s=r("1dde"),o=s("map");a({target:"Array",proto:!0,forced:!o},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},def6:function(t,e,r){},e334:function(t,e,r){t.exports=r.p+"img/Notice.4c08ba67.svg"},e5ff:function(t,e,r){"use strict";r("078f")},e8a8:function(t,e,r){},ec1f:function(t,e,r){"use strict";r("9dc7")}}]);
//# sourceMappingURL=chunk-c6ba1218.ed3a3b3a.js.map