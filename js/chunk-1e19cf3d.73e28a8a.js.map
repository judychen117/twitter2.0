{"version":3,"sources":["webpack:///./public/img/UserAvatar.svg","webpack:///./src/components/TweetCard.vue?46f8","webpack:///./src/views/TweetMain.vue?7fc8","webpack:///./src/components/TweetCard.vue?df31","webpack:///src/components/TweetCard.vue","webpack:///./src/components/TweetCard.vue?730c","webpack:///./src/components/TweetCard.vue","webpack:///./src/components/UserPostmodal.vue?686c","webpack:///src/components/UserPostmodal.vue","webpack:///./src/components/UserPostmodal.vue?4c6b","webpack:///./src/components/UserPostmodal.vue","webpack:///src/views/TweetMain.vue","webpack:///./src/views/TweetMain.vue?0d31","webpack:///./src/views/TweetMain.vue","webpack:///./src/views/TweetMain.vue?28f0","webpack:///./src/components/UserPostmodal.vue?c3c5"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","showModalBox","showModal","_e","directives","name","rawName","value","expression","closePostModal","replyModalTweet","_m","params","id","currentUser","avatar","$event","stopPropagation","preventDefault","handleSubmit","domProps","target","composing","text","_l","tweet","key","showReplyModal","staticRenderFns","_v","User","_f","_s","account","createdAt","tweet_id","description","replyPost","Replies","length","deleteLiked","staticStyle","Likes","addLiked","likesLength","components","mixins","props","initialTweet","type","Object","required","data","likeStatus","created","checkLikeId","updated","computed","methods","$emit","forEach","like","UserId","component","closeModal","RecommendUsers","NavBar","TweetCard","UserPostmodal","UserReplymodal","tweets","console","log","store","fetchTweets"],"mappings":"8HAAAA,EAAOC,QAAU,IAA0B,+B,yDCA3C,W,yCCAA,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAcC,MAAM,CAAC,GAAK,SAAS,CAACH,EAAG,SAAS,CAACI,GAAG,CAAC,kBAAkBR,EAAIS,gBAAmC,SAAlBT,EAAIU,UAAsBN,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,UAAUP,EAAIW,KAAKP,EAAG,gBAAgB,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAyB,SAAlBf,EAAIU,UAAsBM,WAAW,yBAAyBR,GAAG,CAAC,mBAAmBR,EAAIiB,kBAAkBb,EAAG,iBAAiB,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAyB,UAAlBf,EAAIU,UAAuBM,WAAW,0BAA0BT,MAAM,CAAC,sBAAsBP,EAAIkB,iBAAiBV,GAAG,CAAC,mBAAmBR,EAAIiB,kBAAkBb,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACN,EAAImB,GAAG,GAAGf,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,CACj2BM,KAAM,qBACNO,OAAQ,CAAEC,GAAIrB,EAAIsB,YAAYD,OAC5B,CAACjB,EAAG,MAAM,CAACE,YAAY,gBAAgBC,MAAM,CAAC,IAAMP,EAAIsB,YAAYC,OAAO,IAAM,cAAcnB,EAAG,OAAO,CAACE,YAAY,cAAcE,GAAG,CAAC,OAAS,SAASgB,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwB1B,EAAI2B,aAAaH,MAAW,CAACpB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,UAAUH,EAAG,WAAW,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAQ,KAAEgB,WAAW,SAASV,YAAY,eAAeC,MAAM,CAAC,KAAO,IAAI,KAAO,OAAO,YAAc,WAAWqB,SAAS,CAAC,MAAS5B,EAAQ,MAAGQ,GAAG,CAAC,MAAQ,SAASgB,GAAWA,EAAOK,OAAOC,YAAqB9B,EAAI+B,KAAKP,EAAOK,OAAOd,aAAYf,EAAImB,GAAG,MAAM,KAAKf,EAAG,MAAM,CAACE,YAAY,YAAYF,EAAG,MAAM,CAACE,YAAY,eAAeN,EAAIgC,GAAIhC,EAAU,QAAE,SAASiC,GAAO,OAAO7B,EAAG,YAAY,CAAC8B,IAAID,EAAMZ,GAAGd,MAAM,CAAC,gBAAgB0B,GAAOzB,GAAG,CAAC,mBAAmBR,EAAIS,aAAa,iBAAiBT,EAAImC,qBAAoB,OAAO/B,EAAG,mBAAmB,IACj7BgC,EAAkB,CAAC,WAAa,IAAIpC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,KAAK,CAACP,EAAIqC,GAAG,WAAW,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,SAAS,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,WAAW,CAACP,EAAIqC,GAAG,Y,gFCJjY,EAAS,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,CAAEM,KAAM,qBAAsBO,OAAQ,CAAEC,GAAIrB,EAAIiC,MAAMK,KAAKjB,OAAS,CAACjB,EAAG,MAAM,CAACE,YAAY,gBAAgBC,MAAM,CAAC,IAAMP,EAAIuC,GAAG,eAAPvC,CAAuBA,EAAIiC,MAAMK,KAAKf,QAAQ,IAAM,cAAcnB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,IAAI,CAACE,YAAY,qBAAqBC,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,CAAEM,KAAM,qBAAsBO,OAAQ,CAAEC,GAAIrB,EAAIiC,MAAMK,KAAKjB,OAAS,CAACjB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIqC,GAAGrC,EAAIwC,GAAGxC,EAAIiC,MAAMK,KAAKzB,WAAWT,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,CAAEM,KAAM,qBAAsBO,OAAQ,CAAEC,GAAIrB,EAAIiC,MAAMK,KAAKjB,OAAS,CAACjB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIqC,GAAGrC,EAAIwC,GAAGxC,EAAIiC,MAAMK,KAAKG,SAAS,SAASrC,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIqC,GAAGrC,EAAIwC,GAAGxC,EAAIuC,GAAG,UAAPvC,CAAkBA,EAAIiC,MAAMS,gBAAgB,GAAGtC,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,CAAEM,KAAM,cAAeO,OAAQ,CAAEuB,SAAU3C,EAAIiC,MAAMZ,OAAS,CAACjB,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,IAAI,CAACE,YAAY,aAAa,CAACN,EAAIqC,GAAG,IAAIrC,EAAIwC,GAAGxC,EAAIiC,MAAMW,aAAa,WAAWxC,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,KAAKC,GAAG,CAAC,MAAQ,SAASgB,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwB1B,EAAI6C,UAAU7C,EAAIiC,UAAU,CAAC7B,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAM,EAAQ,QAAoC,IAAM,MAAMH,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIwC,GAAGxC,EAAIiC,MAAMa,QAAQC,aAAc/C,EAAc,WAAEI,EAAG,IAAI,CAACE,YAAY,cAAcC,MAAM,CAAC,KAAO,KAAKC,GAAG,CAAC,MAAQ,SAASgB,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwB1B,EAAIgD,YAAYhD,EAAIiC,MAAMZ,OAAO,CAACjB,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAM,EAAQ,QAAuC,IAAM,MAAMH,EAAG,OAAO,CAAC6C,YAAY,CAAC,MAAQ,YAAY,CAACjD,EAAIqC,GAAGrC,EAAIwC,GAAGxC,EAAIiC,MAAMiB,MAAMH,aAAa3C,EAAG,IAAI,CAACE,YAAY,cAAcC,MAAM,CAAC,KAAO,KAAKC,GAAG,CAAC,MAAQ,SAASgB,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwB1B,EAAImD,SAASnD,EAAIiC,MAAMZ,OAAO,CAACjB,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAM,EAAQ,QAAiC,IAAM,MAAMH,EAAG,OAAO,CAACJ,EAAIqC,GAAGrC,EAAIwC,GAAGxC,EAAIoD,qBAAqB,IAAI,IACnpE,EAAkB,G,4DCuEtB,GACEC,WAAY,GACZC,OAAQ,CAAC,EAAX,aACEC,MAAO,CACLC,aAAc,CACZC,KAAMC,OACNC,UAAU,IAGdC,KATF,WAUI,MAAO,CACL3B,MAAOhC,KAAKuD,aACZ9C,UAAW,GACXmD,YAAY,EACZT,YAAanD,KAAKuD,aAAaN,MAAMH,SAGzCe,QAjBF,WAkBI7D,KAAK8D,YAAY9D,KAAKgC,QAExB+B,QApBF,aAqBEC,SAAU,OAAZ,OAAY,CAAZ,GACA,iCAEEC,QAAS,CACP,SADJ,SACA,4LAEA,mBAFA,mBAEA,EAFA,EAEA,KACA,qBAHA,sBAIA,qBAJA,OAMA,8BACA,gBAPA,qDASA,aACA,aACA,yBAXA,6DAeI,YAhBJ,SAgBA,4LAEA,sBAFA,mBAEA,EAFA,EAEA,KACA,qBAHA,sBAIA,qBAJA,OAMA,8BACA,gBAPA,qDASA,aACA,aACA,yBAXA,6DAeIrB,UA/BJ,SA+BA,GACM5C,KAAKS,UAAY,QACjBT,KAAKkE,MAAM,mBAAoBlE,KAAKS,WACpCT,KAAKkE,MAAM,iBAAkBlC,IAE/BhB,eApCJ,SAoCA,GACMhB,KAAKS,UAAYA,GAEnBqD,YAvCJ,SAuCA,cACM9B,EAAMiB,MAAMkB,SAAQ,SAA1B,GACYC,EAAKC,SAAW,EAA5B,iBACU,EAAV,qBC1ImV,I,wBCQ/UC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,oBCnBX,EAAS,WAAa,IAAIvE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB2C,YAAY,CAAC,OAAS,WAAWzC,GAAG,CAAC,MAAQ,SAASgB,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwB1B,EAAIwE,WAAWhD,MAAW,CAACxB,EAAIqC,GAAG,SAASjC,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAImB,GAAG,GAAGf,EAAG,OAAO,CAACE,YAAY,cAAcE,GAAG,CAAC,OAAS,SAASgB,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwB1B,EAAI2B,aAAaH,MAAW,CAACpB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,UAAUH,EAAG,WAAW,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAQ,KAAEgB,WAAW,SAASV,YAAY,eAAeC,MAAM,CAAC,KAAO,IAAI,KAAO,OAAO,YAAc,WAAWqB,SAAS,CAAC,MAAS5B,EAAQ,MAAGQ,GAAG,CAAC,MAAQ,SAASgB,GAAWA,EAAOK,OAAOC,YAAqB9B,EAAI+B,KAAKP,EAAOK,OAAOd,aAAYf,EAAImB,GAAG,YACl8B,EAAkB,CAAC,WAAa,IAAInB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,MAAM,CAACE,YAAY,gBAAgBC,MAAM,CAAC,IAAM,EAAQ,QAAmC,IAAM,eAAe,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,SAAS,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,WAAW,CAACP,EAAIqC,GAAG,YC0C9b,GACEuB,KADF,WAEI,MAAO,CACL7B,KAAM,GACNrB,UAAW,SAGfwD,QAAS,CACP,aADJ,WACA,8KAEA,+BAFA,uBAGA,aACA,aACA,yBALA,+BASA,oBATA,uBAUA,aACA,aACA,kCAZA,iCAgBA,SAhBA,UAiBA,oCAjBA,oBAiBA,EAjBA,EAiBA,KACA,qBAlBA,uBAmBA,qBAnBA,QAqBA,UACA,wCAtBA,qDAwBA,aACA,aACA,yBA1BA,6DA8BIM,WA/BJ,WAgCMvE,KAAKkE,MAAM,mBAAoBlE,KAAKS,cClF6S,ICQnV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,gCC0Df,GACE2C,WAAY,CACVoB,eAAJ,OACIC,OAAJ,OACIC,UAAJ,EACIC,cAAJ,EACIC,eAAJ,QAEEjB,KARF,WASI,MAAO,CACLkB,OAAQ,GACR/C,KAAM,GACNrB,UAAW,OACXQ,gBAAiB,KAGrB4C,QAhBF,WAiBIiB,QAAQC,IAAIC,EAAhB,YACIhF,KAAKiF,eAEPjB,SAAU,OAAZ,OAAY,CAAZ,GACA,iCAEEC,QAAS,CACP,YADJ,WACA,yLAEA,oBAFA,gBAEA,EAFA,EAEA,KACA,WAHA,mDAKA,aACA,aACA,yBAPA,4DAWI,aAZJ,WAYA,8KAEA,+BAFA,uBAGA,aACA,aACA,yBALA,+BASA,oBATA,uBAUA,aACA,aACA,kCAZA,iCAgBA,SAhBA,UAiBA,oCAjBA,oBAiBA,EAjBA,EAiBA,KACA,qBAlBA,uBAmBA,qBAnBA,QAqBA,UACA,gBAtBA,qDAwBA,aACA,aACA,uBA1BA,6DA8BIzD,aA1CJ,SA0CA,GACMR,KAAKS,UAAYA,GAEnBO,eA7CJ,SA6CA,GACMhB,KAAKS,UAAYA,EACjBT,KAAKiF,eAEP/C,eAjDJ,SAiDA,GACMlC,KAAKiB,gBAAkBe,KCtJsT,ICQ/U,G,UAAY,eACd,EACAlC,EACAqC,GACA,EACA,KACA,WACA,OAIa,e,kECnBf,W,kCCAA","file":"js/chunk-1e19cf3d.73e28a8a.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/UserAvatar.3a1de5c2.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetCard.vue?vue&type=style&index=0&id=316bcacd&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-tweets\",attrs:{\"id\":\"main\"}},[_c('NavBar',{on:{\"show-post-modal\":_vm.showModalBox}}),(_vm.showModal !== 'none')?_c('div',{attrs:{\"id\":\"fade\"}}):_vm._e(),_c('UserPostmodal',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showModal === 'post'),expression:\"showModal === 'post'\"}],on:{\"close-post-modal\":_vm.closePostModal}}),_c('UserReplymodal',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showModal === 'reply'),expression:\"showModal === 'reply'\"}],attrs:{\"initial-modal-tweet\":_vm.replyModalTweet},on:{\"close-post-modal\":_vm.closePostModal}}),_c('div',{staticClass:\"tweets-container\"},[_vm._m(0),_c('div',{staticClass:\"tweets\"},[_c('div',{staticClass:\"tweets-post-card\"},[_c('div',{staticClass:\"tweets-post\"},[_c('router-link',{attrs:{\"to\":{\n              name: 'user-profile-tweet',\n              params: { id: _vm.currentUser.id },\n            }}},[_c('img',{staticClass:\"tweets-avatar\",attrs:{\"src\":_vm.currentUser.avatar,\"alt\":\"avatar\"}})]),_c('form',{staticClass:\"tweets-form\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"tweets-text\"},[_c('label',{attrs:{\"for\":\"text\"}}),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],staticClass:\"form-control\",attrs:{\"rows\":\"3\",\"name\":\"text\",\"placeholder\":\"有什麼新鮮事？\"},domProps:{\"value\":(_vm.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}})]),_vm._m(1)])],1)]),_c('div',{staticClass:\"divider\"}),_c('div',{staticClass:\"tweets-list\"},_vm._l((_vm.tweets),function(tweet){return _c('TweetCard',{key:tweet.id,attrs:{\"initial-tweet\":tweet},on:{\"show-reply-modal\":_vm.showModalBox,\"reply-tweet-id\":_vm.showReplyModal}})}),1)])]),_c('RecommendUsers')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tweets-header\"},[_c('a',{attrs:{\"href\":\"\"}},[_vm._v(\"首頁\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tweets-submit\"},[_c('button',{staticClass:\"tweets-button\",attrs:{\"type\":\"submit\"}},[_vm._v(\"推文\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tweets-card\"},[_c('router-link',{attrs:{\"to\":{ name: 'user-profile-tweet', params: { id: _vm.tweet.User.id } }}},[_c('img',{staticClass:\"tweets-avatar\",attrs:{\"src\":_vm._f(\"emptyPicture\")(_vm.tweet.User.avatar),\"alt\":\"avatar\"}})]),_c('div',{staticClass:\"tweets-content\"},[_c('a',{staticClass:\"tweet tweets-title\",attrs:{\"href\":\"\"}},[_c('router-link',{attrs:{\"to\":{ name: 'user-profile-tweet', params: { id: _vm.tweet.User.id } }}},[_c('div',{staticClass:\"tweets-name\"},[_vm._v(_vm._s(_vm.tweet.User.name))])]),_c('router-link',{attrs:{\"to\":{ name: 'user-profile-tweet', params: { id: _vm.tweet.User.id } }}},[_c('div',{staticClass:\"tweets-id\"},[_vm._v(_vm._s(_vm.tweet.User.account)+\"・\")])]),_c('div',{staticClass:\"tweets-time\"},[_vm._v(_vm._s(_vm._f(\"fromNow\")(_vm.tweet.createdAt)))])],1),_c('router-link',{attrs:{\"to\":{ name: 'tweet-reply', params: { tweet_id: _vm.tweet.id } }}},[_c('div',{staticClass:\"tweet tweets-text\"},[_c('p',{staticClass:\"card-text\"},[_vm._v(\" \"+_vm._s(_vm.tweet.description)+\" \")])])]),_c('div',{staticClass:\"tweet tweets-footer\"},[_c('a',{staticClass:\"tweets-comment\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.replyPost(_vm.tweet)}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../../public/img/commentIcon.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(_vm.tweet.Replies.length))])]),(_vm.likeStatus)?_c('a',{staticClass:\"tweets-like\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteLiked(_vm.tweet.id)}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../../public/img/icon_like_fill.svg\"),\"alt\":\"\"}}),_c('span',{staticStyle:{\"color\":\"#e0245e\"}},[_vm._v(_vm._s(_vm.tweet.Likes.length))])]):_c('a',{staticClass:\"tweets-like\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addLiked(_vm.tweet.id)}}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../../public/img/likeIcon.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(_vm.likesLength))])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tweets-card\">\n    <router-link\n      :to=\"{ name: 'user-profile-tweet', params: { id: tweet.User.id } }\"\n    >\n      <img\n        :src=\"tweet.User.avatar | emptyPicture\"\n        alt=\"avatar\"\n        class=\"tweets-avatar\"\n      />\n    </router-link>\n    <div class=\"tweets-content\">\n      <a href=\"\" class=\"tweet tweets-title\">\n        <router-link\n          :to=\"{ name: 'user-profile-tweet', params: { id: tweet.User.id } }\"\n        >\n          <div class=\"tweets-name\">{{ tweet.User.name }}</div>\n        </router-link>\n        <router-link\n          :to=\"{ name: 'user-profile-tweet', params: { id: tweet.User.id } }\"\n        >\n          <div class=\"tweets-id\">{{ tweet.User.account }}・</div>\n        </router-link>\n        <div class=\"tweets-time\">{{ tweet.createdAt | fromNow }}</div>\n      </a>\n      <router-link\n        :to=\"{ name: 'tweet-reply', params: { tweet_id: tweet.id } }\"\n      >\n        <div class=\"tweet tweets-text\">\n          <p class=\"card-text\">\n            {{ tweet.description }}\n          </p>\n        </div>\n      </router-link>\n      <div class=\"tweet tweets-footer\">\n        <a\n          href=\"#\"\n          class=\"tweets-comment\"\n          @click.stop.prevent=\"replyPost(tweet)\"\n        >\n          <img src=\"../../public/img/commentIcon.svg\" alt=\"\" class=\"icon\" />\n          <span>{{ tweet.Replies.length }}</span>\n        </a>\n        <a\n          href=\"#\"\n          class=\"tweets-like\"\n          @click.stop.prevent=\"deleteLiked(tweet.id)\"\n          v-if=\"likeStatus\"\n        >\n          <img src=\"../../public/img/icon_like_fill.svg\" alt=\"\" class=\"icon\" />\n          <span style=\"color: #e0245e\">{{ tweet.Likes.length }}</span>\n        </a>\n        <a\n          href=\"#\"\n          class=\"tweets-like\"\n          @click.stop.prevent=\"addLiked(tweet.id)\"\n          v-else\n        >\n          <img src=\"../../public/img/likeIcon.svg\" alt=\"\" class=\"icon\" />\n          <span>{{ likesLength }}</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { emptyImageFilter, fromNowFilter } from \"./../utils/mixins\";\nimport userAPI from \"./../apis/user\";\nimport { Toast } from \"./../utils/helpers\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  components: {},\n  mixins: [fromNowFilter, emptyImageFilter],\n  props: {\n    initialTweet: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      tweet: this.initialTweet,\n      showModal: \"\",\n      likeStatus: false,\n      likesLength: this.initialTweet.Likes.length,\n    };\n  },\n  created() {\n    this.checkLikeId(this.tweet);\n  },\n  updated() {},\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n  methods: {\n    async addLiked(tweetId) {\n      try {\n        const { data } = await userAPI.addLiked(tweetId);\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        this.likesLength = this.likesLength + 1;\n        this.likeStatus = true;\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"暫時無法加入喜歡,請稍後再試\",\n        });\n      }\n    },\n    async deleteLiked(tweetId) {\n      try {\n        const { data } = await userAPI.deleteLiked(tweetId);\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        this.likesLength = this.likesLength - 1;\n        this.likeStatus = false;\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"暫時無法移除喜歡,請稍後再試\",\n        });\n      }\n    },\n    replyPost(tweet) {\n      this.showModal = \"reply\";\n      this.$emit(\"show-reply-modal\", this.showModal);\n      this.$emit(\"reply-tweet-id\", tweet);\n    },\n    closePostModal(showModal) {\n      this.showModal = showModal;\n    },\n    checkLikeId(tweet) {\n      tweet.Likes.forEach((like) => {\n        if (like.UserId === this.currentUser.id) {\n          this.likeStatus = true;\n          return;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\na {\n  text-decoration: none;\n  color: #000000;\n}\n.tweets-card {\n  border-bottom: 1px solid #e6ecf0;\n  display: flex;\n  padding: 15px;\n  width: 100%;\n}\n.tweets-content {\n  width: 100%;\n}\n.tweets-avatar {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background-color: palegreen;\n  margin-right: 10px;\n}\n.tweets-title {\n  display: flex;\n  margin: 4px 0 4px 0;\n}\n.tweets-title > h5 {\n  margin-right: 10px;\n}\n.tweet {\n  width: 400px;\n  padding: 5px;\n}\n.card-text {\n  word-wrap: break-word;\n}\n.tweets-like {\n  margin-left: 80px;\n}\n.tweets-name {\n  margin-right: 5px;\n}\n.tweets-id,\n.tweets-time {\n  color: #657786;\n}\n.icon {\n  margin-right: 10px;\n  width: 15;\n  height: 15px;\n}\n\n#fade {\n  top: 0%;\n  left: 0%;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  z-index: 1;\n  opacity: 0.5;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetCard.vue?vue&type=template&id=316bcacd&scoped=true&\"\nimport script from \"./TweetCard.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetCard.vue?vue&type=style&index=0&id=316bcacd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"316bcacd\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-box\"},[_c('div',{staticClass:\"tweets-header\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.closeModal($event)}}},[_vm._v(\" X \")]),_c('div',{staticClass:\"tweets-post-card\"},[_c('div',{staticClass:\"tweets-post\"},[_vm._m(0),_c('form',{staticClass:\"tweets-form\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"tweets-text\"},[_c('label',{attrs:{\"for\":\"text\"}}),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],staticClass:\"form-control\",attrs:{\"rows\":\"3\",\"name\":\"text\",\"placeholder\":\"有什麼新鮮事？\"},domProps:{\"value\":(_vm.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}})]),_vm._m(1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"\"}},[_c('img',{staticClass:\"tweets-avatar\",attrs:{\"src\":require(\"../../public/img/UserAvatar.svg\"),\"alt\":\"avatar\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tweets-submit\"},[_c('button',{staticClass:\"tweets-button\",attrs:{\"type\":\"submit\"}},[_vm._v(\"推文\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-box\">\n    <div\n      class=\"tweets-header\"\n      @click.stop.prevent=\"closeModal\"\n      style=\"cursor: pointer\"\n    >\n      X\n    </div>\n    <div class=\"tweets-post-card\">\n      <div class=\"tweets-post\">\n        <a href=\"\">\n          <img\n            src=\"../../public/img/UserAvatar.svg\"\n            alt=\"avatar\"\n            class=\"tweets-avatar\"\n          />\n        </a>\n        <form class=\"tweets-form\" @submit.stop.prevent=\"handleSubmit\">\n          <div class=\"tweets-text\">\n            <label for=\"text\"></label>\n            <textarea\n              class=\"form-control\"\n              rows=\"3\"\n              name=\"text\"\n              v-model=\"text\"\n              placeholder=\"有什麼新鮮事？\"\n            >\n            </textarea>\n          </div>\n          <div class=\"tweets-submit\">\n            <button type=\"submit\" class=\"tweets-button\">推文</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TweetsAPI from \"./../apis/tweets\";\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  data() {\n    return {\n      text: \"\",\n      showModal: \"none\",\n    };\n  },\n  methods: {\n    async handleSubmit() {\n      try {\n        if (this.text.replace(/\\s*/g, \"\") === \"\") {\n          Toast.fire({\n            icon: \"error\",\n            title: \"推文內容不能空白,請輸入內容\",\n          });\n          return;\n        }\n        if (this.text.length >= 140) {\n          Toast.fire({\n            icon: \"error\",\n            title: \"超過字數限制,最多不可超過140字,請重新輸入\",\n          });\n          return;\n        }\n        const description = this.text;\n        const { data } = await TweetsAPI.tweets.post({ description });\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        this.text = \"\";\n        this.$emit(\"close-post-modal\", this.showModal);\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"暫時無法新增推文,請稍後再試\",\n        });\n      }\n    },\n    closeModal() {\n      this.$emit(\"close-post-modal\", this.showModal);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.tweets-header {\n  line-height: 55px;\n  padding-left: 15px;\n  height: 55px;\n  font-size: 18px;\n  border-bottom: 1px solid #e6ecf0;\n}\n.tweets-post-card {\n  margin: 15px;\n}\n\n.tweets-post {\n  height: 100%;\n  display: flex;\n  position: relative;\n}\n.tweets-avatar {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background-color: palegreen;\n  margin-right: 10px;\n}\n.tweets-list {\n  /* 暫時先設定固定高度 */\n  height: 500px;\n  overflow: scroll;\n}\n.tweets-form {\n  width: 100%;\n}\ntextarea {\n  border: 0px;\n  resize: none;\n}\n.tweets-text {\n  width: 100%;\n}\n.tweets-submit {\n  bottom: 0px;\n  right: 0px;\n  position: absolute;\n}\n/* modal */\n.modal-box {\n  width: 600px;\n  height: 300px;\n  position: fixed;\n  top: 5%;\n  background-color: white;\n  z-index: 2;\n  border-radius: 20px;\n}\n.tweets-button {\n  font-size: 15px;\n  width: auto;\n  height: auto;\n  border-radius: 62px;\n  background: #ff6600;\n  margin: 0;\n  padding: 6px;\n  border: 1px solid transparent;\n  outline: none;\n  color: #ffffff;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPostmodal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPostmodal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPostmodal.vue?vue&type=template&id=b24bb1b8&scoped=true&\"\nimport script from \"./UserPostmodal.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPostmodal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserPostmodal.vue?vue&type=style&index=0&id=b24bb1b8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b24bb1b8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"main-tweets\" id=\"main\">\n    <NavBar @show-post-modal=\"showModalBox\" />\n    <div id=\"fade\" v-if=\"showModal !== 'none'\"></div>\n    <UserPostmodal\n      v-show=\"showModal === 'post'\"\n      @close-post-modal=\"closePostModal\"\n    />\n    <UserReplymodal\n      v-show=\"showModal === 'reply'\"\n      @close-post-modal=\"closePostModal\"\n      :initial-modal-tweet=\"replyModalTweet\"\n    />\n    <div class=\"tweets-container\">\n      <div class=\"tweets-header\">\n        <a href=\"\">首頁</a>\n      </div>\n      <div class=\"tweets\">\n        <div class=\"tweets-post-card\">\n          <div class=\"tweets-post\">\n            <router-link\n              :to=\"{\n                name: 'user-profile-tweet',\n                params: { id: currentUser.id },\n              }\"\n            >\n              <img\n                :src=\"currentUser.avatar\"\n                alt=\"avatar\"\n                class=\"tweets-avatar\"\n              />\n            </router-link>\n            <form class=\"tweets-form\" @submit.stop.prevent=\"handleSubmit\">\n              <div class=\"tweets-text\">\n                <label for=\"text\"></label>\n                <textarea\n                  class=\"form-control\"\n                  rows=\"3\"\n                  name=\"text\"\n                  v-model=\"text\"\n                  placeholder=\"有什麼新鮮事？\"\n                >\n                </textarea>\n              </div>\n              <div class=\"tweets-submit\">\n                <button type=\"submit\" class=\"tweets-button\">推文</button>\n              </div>\n            </form>\n          </div>\n        </div>\n        <div class=\"divider\"></div>\n        <div class=\"tweets-list\">\n          <TweetCard\n            v-for=\"tweet in tweets\"\n            :key=\"tweet.id\"\n            :initial-tweet=\"tweet\"\n            @show-reply-modal=\"showModalBox\"\n            @reply-tweet-id=\"showReplyModal\"\n          />\n        </div>\n      </div>\n    </div>\n    <RecommendUsers />\n  </div>\n</template>\n\n<script>\nimport RecommendUsers from \"./../components/RecommendUsers\";\nimport NavBar from \"./../components/Navbar\";\nimport TweetCard from \"./../components/TweetCard\";\nimport TweetsAPI from \"./../apis/tweets\";\nimport { Toast } from \"./../utils/helpers\";\nimport UserPostmodal from \"./../components/UserPostmodal\";\nimport UserReplymodal from \"./../components/UserReplymodal\";\nimport store from \"./../store\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  components: {\n    RecommendUsers,\n    NavBar,\n    TweetCard,\n    UserPostmodal,\n    UserReplymodal,\n  },\n  data() {\n    return {\n      tweets: [],\n      text: \"\",\n      showModal: \"none\",\n      replyModalTweet: {},\n    };\n  },\n  created() {\n    console.log(store.state);\n    this.fetchTweets();\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n  methods: {\n    async fetchTweets() {\n      try {\n        const { data } = await TweetsAPI.tweets.get();\n        this.tweets = data;\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"暫時無法獲取推文,請稍後再試\",\n        });\n      }\n    },\n    async handleSubmit() {\n      try {\n        if (this.text.replace(/\\s*/g, \"\") === \"\") {\n          Toast.fire({\n            icon: \"error\",\n            title: \"推文內容不能空白,請輸入內容\",\n          });\n          return;\n        }\n        if (this.text.length >= 140) {\n          Toast.fire({\n            icon: \"error\",\n            title: \"超過字數限制,最多不可超過140字,請重新輸入\",\n          });\n          return;\n        }\n        const description = this.text;\n        const { data } = await TweetsAPI.tweets.post({ description });\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        this.text = \"\";\n        this.fetchTweets();\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"新增推文錯誤,請稍後再試\",\n        });\n      }\n    },\n    showModalBox(showModal) {\n      this.showModal = showModal;\n    },\n    closePostModal(showModal) {\n      this.showModal = showModal;\n      this.fetchTweets();\n    },\n    showReplyModal(tweet) {\n      this.replyModalTweet = tweet;\n    },\n  },\n};\n</script>\n\n<style scoped>\na {\n  text-decoration: none;\n  color: #000000;\n}\n/* main tweets */\n.main-tweets {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  /* padding: 3rem 0;   */\n}\n\n.tweets-container {\n  width: 600px;\n  height: 100%;\n  border-left: 1px solid #e6ecf0;\n  border-right: 1px solid #e6ecf0;\n  margin-right: 30px;\n}\n.tweets-header {\n  line-height: 55px;\n  padding-left: 15px;\n  height: 55px;\n  font-size: 18px;\n  border-bottom: 1px solid #e6ecf0;\n}\n.tweets-post-card {\n  margin: 15px;\n}\n\n.tweets-post {\n  height: auto;\n  display: flex;\n  position: relative;\n}\n.tweets-avatar {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background-color: palegreen;\n  margin-right: 10px;\n}\n.tweets-list {\n  height: 74vh;\n  width: 100%;\n  overflow: scroll;\n}\n\n.tweets-form {\n  width: 100%;\n}\ntextarea {\n  border: 0px;\n  resize: none;\n}\n.tweets-text {\n  width: 100%;\n}\n.tweets-submit {\n  bottom: 0px;\n  right: 0px;\n  position: absolute;\n}\n\n.divider {\n  width: 100%;\n  height: 10px;\n  background-color: #e6ecf0;\n}\n.tweets-button {\n  font-size: 15px;\n  width: auto;\n  height: auto;\n  border-radius: 62px;\n  background: #ff6600;\n  margin: 0;\n  padding: 6px;\n  border: 1px solid transparent;\n  outline: none;\n  color: #ffffff;\n}\n\n/* modal */\n.modal-box {\n  width: 600px;\n  position: fixed;\n  top: 5%;\n  background-color: white;\n  z-index: 2;\n  border-radius: 20px;\n}\n#fade {\n  position: absolute;\n  top: 0%;\n  left: 0%;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  z-index: 1;\n  opacity: 0.5;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetMain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetMain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetMain.vue?vue&type=template&id=6f187189&scoped=true&\"\nimport script from \"./TweetMain.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetMain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetMain.vue?vue&type=style&index=0&id=6f187189&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f187189\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetMain.vue?vue&type=style&index=0&id=6f187189&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPostmodal.vue?vue&type=style&index=0&id=b24bb1b8&scoped=true&lang=css&\""],"sourceRoot":""}